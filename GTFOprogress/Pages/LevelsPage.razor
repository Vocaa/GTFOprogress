@page "/"
@using GTFOprogress.Models
@using GTFOprogress.Common
@using GTFOprogress.Services
@using GTFOprogress.Components

@inject StateHandlerService _stateHandler

<h3>LevelsPage</h3>

<div class="rundown-container">
    @foreach (Rundown rundown in rundowns)
    {
        <div class="col">
            <RundownComponent rundown="rundown" />
        </div>
    }
</div>

<style>

</style>



@code {
    List<Rundown> rundowns;
    protected override async Task OnInitializedAsync()
    {
        await _stateHandler.InitializeState();
        rundowns = _stateHandler.GetRundowns();
    }



    public Level getTestLevelData()
    {
        return new Level
            {
                Name = "R2E1",
                Title = "THE TEST",
                Tier = Tier.E,
                Stage = 1,
                Secondary = false,
                Overload = true,
            };
    }
}
